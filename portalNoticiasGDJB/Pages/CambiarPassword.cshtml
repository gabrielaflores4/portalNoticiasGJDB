@page
@model portalNoticiasGDJB.Pages.CambiarPasswordModel
@{
    ViewData["Title"] = "Cambiar Contraseña";
}

<div class="Rcontainer">
    <h2>@ViewData["Title"]</h2>

    <form method="post">
        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="form-group">
            <label asp-for="Input.CurrentPassword">Contraseña Actual:</label>
            <div class="password-wrapper">
                <input asp-for="Input.CurrentPassword" type="password" id="currentPassword" class="form-control" />
                <button type="button" class="toggle-btn" onclick="togglePassword('currentPassword', this)">Mostrar</button>
            </div>
            <span asp-validation-for="Input.CurrentPassword" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Input.NewPassword">Nueva Contraseña:</label>
            <div class="password-wrapper">
                <input asp-for="Input.NewPassword" type="password" id="newPassword" class="form-control" />
                <button type="button" class="toggle-btn" onclick="togglePassword('newPassword', this)">Mostrar</button>
            </div>
            <span asp-validation-for="Input.NewPassword" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Input.ConfirmNewPassword">Confirmar Nueva Contraseña:</label>
            <div class="password-wrapper">
                <input asp-for="Input.ConfirmNewPassword" type="password" id="confirmNewPassword" class="form-control" />
                <button type="button" class="toggle-btn" onclick="togglePassword('confirmNewPassword', this)">Mostrar</button>
            </div>
            <span asp-validation-for="Input.ConfirmNewPassword" class="text-danger"></span>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-custom">Cambiar Contraseña</button>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        function togglePassword(id, btn) {
            const input = document.getElementById(id);
            const isHidden = input.type === 'password';
            input.type = isHidden ? 'text' : 'password';
            btn.textContent = isHidden ? 'Ocultar' : 'Mostrar';
        }
    </script>
}