@page
@model IndexModel
@{
    ViewBag.Title = "Inicio";
    Layout = "_Layout";
}

<div class="contenedor1">
    <h1>Últimas Noticias</h1>

    @if (Model.Noticias == null || Model.Noticias.Count == 0)
    {
        <p>No hay noticias para mostrar.</p>
    }
    else
    {
        <div class="row">
            @foreach (var noticia in Model.Noticias)
            {
                <div class="col-md-6 mb-4 news-card">
                    <h2>
                        <a asp-page="/NoticiaDetalle" asp-route-id="@noticia.Id" class="text-decoration-none text-dark">
                            @noticia.Titulo
                        </a>
                    </h2>

                    @if (noticia.Imagen != null)
                    {
                        <img src="/imagen/@noticia.Id" alt="Imagen de la noticia" class="img-fluid mb-2" style="max-height: 200px;" />
                    }

                    <p class="text-muted">@noticia.FechaPublicacion.ToString("dd MMM yyyy")</p>
                    <p>@(noticia.Contenido.Length > 150 ? noticia.Contenido.Substring(0, 150) + "..." : noticia.Contenido)</p>
                    <button class="fav-btn" data-id="@noticia.Id" data-title="@noticia.Titulo">Guardar</button>
                </div>
            }
        </div>
    }
</div>


<div class="row">
    <h2>Te puede interesar...</h2>
    <div class="col-md-6 news-card">
        <img src="~/img/noticia1clima.jpg" alt="Noticia 2">
        <h2>
            <a asp-page="/Noticia 2" class="text-decoration-none text-dark">
                Primera tormenta invernal obliga a rescates acuáticos, corta la electricidad y crea peligrosas condiciones de viaje
            </a>
        </h2>
        <button class="fav-btn" data-id="2" data-title="Primera tormenta invernal"> Guardar</button>
    </div>

    <div class="col-md-6 news-card">
        <h2>
            <img src="~/img/Forza horizon.png" alt="Noticia 3">
            <a asp-page="/index3" class="text-decoration-none text-dark">
                Microsoft anunció que Forza Horizon 5, uno de los juegos más emblemáticos de Xbox, llegará a PlayStation 5 en 2025
            </a>
        </h2>
        <button class="fav-btn" data-id="3" data-title="Forza Horizon 5 a PS5"> Guardar</button>
    </div>
</div>

<div class="row">
    <div class="col-md-6 news-card">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8xcIuknfW7S17DJH3GIer71ef8N0wt_PaQw&s" alt="Noticia 4">
        <h2>
            <a asp-page="/Index2" class="text-decoration-none text-dark">
                Rayados oficializa el fichaje de Sergio Ramos
            </a>
        </h2>
        <button class="fav-btn" data-id="4" data-title="Sergio Ramos a los rayados"> Guardar</button>
    </div>

    <div class="col-md-6 news-card">
        <h2>
            <img src="~/img/gomas.png" alt="Noticia 5">
            <a asp-page="/index4" class="text-decoration-none text-dark">
                FDA prohíbe el colorante rojo número 3 en alimentos, bebidas y medicamentos; en estudios se le ha vinculado con cáncer
            </a>
        </h2>
        <button class="fav-btn" data-id="5" data-title="FDA prohíbe colorante rojo numero 3"> Guardar</button>
    </div>
</div>

<div class="noticia-final">
    <img src="~/img/iceberg.png" alt="Noticia 6">
    <h2>
        <a asp-page="/Index5" class="text-decoration-none text-dark">
            Temores de que el iceberg más grande del mundo pueda chocar contra una isla del Atlántico Sur
        </a>
    </h2>
    <button class="fav-btn" data-id="6" data-title="iceberg"> Guardar</button>
</div>

<div class="ticker">
    <div class="ticker-content">
        <p>Breaking News: FDA prohíbe el colorante rojo número 3 en alimentos, bebidas y medicamentos; en estudios se le ha vinculado con cáncer. | Última hora: Primera tormenta invernal obliga a rescates acuáticos, corta la electricidad y crea peligrosas condiciones de viaje. | Microsoft anunció que Forza Horizon 5, uno de los juegos más emblemáticos de Xbox, llegará a PlayStation 5 en 2025 </p>
    </div>
</div>

@section Scripts {
    <script src="~/js/Noticias.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            if (document.getElementById('noticias-dinamicas')) {
                cargarNoticias('noticias-dinamicas', false);
            }
        });
    </script>
}

<script src="~/js/noticiafavv.js"></script>